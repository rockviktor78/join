<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="../assets/img/favicon/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/img/favicon/apple-touch-icon.png" />
    <link rel="shortcut icon" href="../assets/img/favicon/favicon.ico" />

    <title>Add Task - Join</title>

    <link rel="stylesheet" href="../styles/base/reset.css" />
    <link rel="stylesheet" href="../styles/base/variables.css" />
    <link rel="stylesheet" href="../styles/base/fonts.css" />
    <link rel="stylesheet" href="../styles/base/transitions.css" />
    <link rel="stylesheet" href="../styles/components/layout.css" />
    <link rel="stylesheet" href="../styles/components/header.css" />
    <link rel="stylesheet" href="../styles/components/sidebar.css" />
    <link rel="stylesheet" href="../styles/add_task.css" />
    <link rel="stylesheet" href="../styles/add_task-media.css" />
    <link rel="stylesheet" href="../styles/add_task-mobile.css" />
    <link rel="stylesheet" href="../styles/add_task-mobile-small.css" />

    <script src="../scripts/shared/utilities.js" defer></script>
    <script src="../scripts/shared/include-html.js" defer></script>
    <script src="../scripts/shared/init-template.js" defer></script>
    <script src="../scripts/shared/view-transitions.js" defer></script>
    <script src="../scripts/shared/menu.js" defer></script>
    <script src="../scripts/add_task.js" defer></script>
    <script src="../scripts/add_task-template.js" defer></script>
  </head>

  <body onload="initDropdown()"  class="app-layout">
    <div w3-include-html="../assets/templates/header.html" style="display: contents"></div>
    <div w3-include-html="../assets/templates/sidebar.html" style="display: contents"></div>

    <main class="content-area">
      <div class="content-limit content-padding">
        <div class="add-task-title">Add Task</div>
        <div class="add-task-content">
        <div class="left-side">
          <div class="section">
            <div class="headline">Title<span class="red-star">*</span></div>
            <div><input type="text" class="task-title" id="task-title" name="title" placeholder="Enter a title" required></div>
          </div>
          <div class="section">
              <div class="headline">Description</div>
              <div><textarea class="task-description" id="task-description" name="description" placeholder="Enter a description" required></textarea></div>
          </div>
          <div class="section">
            <div class="headline">Due Date<span class="red-star">*</span></div>
            <div class="date-wrapper">
              <input type="date" class="task-due-date" id="task-due-date" name="due-date" required>
              <img src="../assets/img/addtask/calender.svg" class="calendar-icon" onclick="openDatePicker()" alt="Kalender Ã¶ffnen">
            </div>           
          </div>
        </div>
        <div class="add-task-separator"></div>
        <div class="right-side">
          <div class="priority-content">
            <div class="priority">Priority</div>
            <div class="priority-selection">
                <button value="urgent" class="priority__button" onclick="selectPriority(this)">Urgent <img src="../assets/img/addtask/urgent.svg"> </button>
                <button value="medium" class="priority__button medium active" onclick="selectPriority(this)">Medium <img src="../assets/img/addtask/mediumselected.svg"> </button>
                <button value="low" class="priority__button" onclick="selectPriority(this)">Low <img src="../assets/img/addtask/low.svg"> </button>
              </select>
            </div>
          </div>
          <div class="section">
            <div class="headline">Assigned to</div>
            <div>
              <div class="dropdown">
                <div class="dropdown-selected" id="dropdown-selected">Select contacts to assign</div>
                <ul class="dropdown-list"></ul>
              </div>
              <div class="selected-contacts" id="selected-contacts"></div>
            </div>
          </div>
          <div class="section">
            <div class="headline">Category<span class="red-star">*</span></div>
            <div>
              <select class="task-category" id="task-category" name="category" placeholder="Select task category">
                <option value="" disabled selected>Select category</option>
                <option value="technical-task">Technical Task</option>
                <option value="user-story">User Story</option>
              </select>
            </div>
          </div>
          <div class="section">
            <div class="headline">Subtasks</div>
            <div class="subtask-wrapper">
              <input type="text" class="subtask" id="task-subtasks" name="subtasks" placeholder="Add new subtask" oninput="toggleSubtaskActions()" required>
              <div class="subtask-actions">
                <span class="cancel" onclick="cancelSubtask()"> <img src="../assets/img/addtask/cross.svg"> </span>                
                <span class="confirm" onclick="addSubtask()"> <img src="../assets/img/addtask/checkdark.svg"> </span>
              </div>
            </div>
            <div class="added-subtask" id="added-subtask"></div>
          </div>
        </div>
        </div>
        <div class="button-wrapper">
          <div><span class="red-star">*</span>This field is required</div>
          <div class="add-task-button">
            <button id="clear__button" class="clear__button" onclick="clearFields()">Clear <img src="../assets/img/addtask/cross.svg"></button>
            <button id="create-task__button" class="create-task__button" onclick="createTask()">Create Task <img src="../assets/img/addtask/check.svg"></button>
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
